<!DOCTYPE html>
<html>
  <head>
    <title>Avito TwigLinter</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="./styles.css">
    <link rel="stylesheet" href="https://unpkg.com/mermaid@7.0.3/dist/mermaid.dark.min.css">
  </head>
  <style>
    .sideimage {
      float: right;
      position: relative;
      top: -40px;
    }
    .screenshot, .sideimage {
      display: inline-block;
      max-width: 100%;
      text-align: center;
      margin: 0 auto;
    }
    .screenshot img, .sideimage img {
      max-width: 80%;
      max-height: 90%;
    }
  </style>
  <body>
    <textarea id="source">

class: center, middle

# TwigLinter workshop

---

class: middle

- Что делает
- Что под капотом
- Установка и варианты использования

---
class: middle

### Demo

---

class: center, middle, nopages

### Что под капотом
<div class="mermaid">
graph LR;
    twig(*.twig)== readFile/parse ==>ast(AST);
    ast==>p1(plugin);
    ast==>p2(plugin);
    ast==>p3(plugin);
    p1==>messages(Messages);
    p2==>messages;
    p3==>messages;
    messages==>Reporter;
</div>
---
class: middle

### Установка
```bash
  npm i twiglint

  Usage
    $ twiglint <filename>

  Options
    -s, --silent Show only errors
    -v, --version Show current version of the module
    -d, --debug Write debug file, and prepend every check with filename
    -h, --help  This help
```
---

class: middle

### Как использовать

```bash
  comparemaster | grep html | while read i; do twiglint $i; done
```
[Comparemaster](https://github.com/DKunin/bin/blob/master/comparemaster)
---

class: middle

### Будущее

- 100% возможность работы на всех-всех файлах в проекте (безотказность)
- Внешние плагины (все заранее задуманные плагины готовы)
- Внешний конфиг
- Precommit, prerecieve хуки
- Кастомные репортеры
- OpenSource

    </textarea>
    <script src="https://unpkg.com/mermaid@7.0.3/dist/mermaid.min.js"></script>
    <script src="remark-latest.min.js"></script>
    <script>
      const slideshow = remark.create({ highlightLanguage: 'javascript' });
      let mermaidInited = false;
      slideshow.on('showSlide', function (slide) {
        if (slide.getSlideIndex() === 3 && !mermaidInited) {
          mermaidInited = true;
          mermaid.initialize({ startOnLoad: true });

        }
      });

    </script>
  </body>
</html>