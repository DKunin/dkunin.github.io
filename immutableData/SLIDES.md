--

# Immutable Data
## Неизменяемые данные в приложении: что, зачем и как
Дмитрий Кунин, AT-Consulting, senior front end developer

--

### План

* Что
* Зачем
* Как

--

### Что

* Данные которые не меняются
* Persistance Data, Immutable Data

![](http://www.diyphotography.net/files/images/6/ben-trails-05.jpg)

--

### Принцип работы

* Вместо мутирования существующего значения - каждый раз создается новый объект

        var list = I.List.of(1,2,3);
        var list2 = list.push(4);

        console.log(list.toJS()) // 1,2,3
        console.log(list === list2) // false

--

### Готовые библиотеки

* immutable.js
* mori
* seamless-immutable
* immutato
* pim
* seti
* texo
* ancient-oak

--

### Высокая скорость работы за счет дерева бинарных ключей



--
### Отличия значений и идентификатора





--

# Зачем

--

### Сложность сохранения состояния

* Слушатели событий
* "Грязное" состояние

--

### Сравнение объектов / списков

* Необходмио проверить только root node

        var map1 = I.Map({a:1, b:2, c:3});
        var map2 = map1.set('b', 2);
        console.log(map1 === map2); // no change
        var map3 = map1.set('b', 50);
        console.log(map1 !== map3); // change

--
### Отсутсвие побочных эфектов

* Защита от изменений наших данных
    - от внешних модулей
    - от функций

--

### Простое клонирование объекта

        var map1 = Immutable.Map({a:1, b:2, c:3});
        var clone = map1;

--

### Практически бесплатный undo/redo


--
### Добавление простой логики мемоизации


--
### Нет необходимости защитного копирования


--

# Как

--
## Массивы

--

## Объекты

--
## Многое другое

--

## Ленивые операции

--

## Групповые операции

--
# Стоит ли бросаться переделывать существующие проекты?

--
# Стоит пощупать в следующем? 

--
# Вопросы?
Дмитрий Кунин, AT-Consulting, senior front end developer
http://dkun.in/

--